/* NutriBite homepage (MealAwe-inspired UX) - keeps green + white theme */

/* Hero */
.hero {
    background: linear-gradient(90deg, rgba(99,179,46,0.06), rgba(37,99,235,0.03));
    padding: 40px 20px;
    border-radius: 12px;
    margin-bottom: 18px;
}

/* Categories */
.categories {
    display:flex;
    gap:12px;
    flex-wrap:wrap;
    margin: 16px 0 28px;
}

.cat-tile {
    background:#fff;
    border-radius:10px;
    padding:12px 16px;
    box-shadow: 0 6px 12px rgba(11,23,39,0.04);
    cursor:pointer;
    min-width:120px;
    text-align:center;
    transition: transform .15s, box-shadow .15s;
    user-select:none;
    outline: none;
}

.cat-tile:focus { box-shadow: 0 10px 18px rgba(11,23,39,0.06); transform: translateY(-2px); }
.cat-tile.active { transform: translateY(-4px); box-shadow: 0 12px 22px rgba(11,23,39,0.08); border-left:4px solid #63B34E; }

/* Food grid */
.food-grid {
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
    gap:16px;
}

.food-card {
    background:#fff;
    border-radius:10px;
    padding:12px;
    box-shadow:0 6px 14px rgba(11,23,39,0.04);
    display:flex;
    flex-direction:column;
    transition: transform .18s ease, box-shadow .18s ease, opacity .25s ease;
    will-change: transform;
}

.food-card:hover {
    transform: translateY(-6px);
    box-shadow:0 18px 40px rgba(11,23,39,0.08);
}

/* added animation when item is added to a meal */
.food-card.added {
    transform: translateY(-8px) scale(0.985);
    box-shadow: 0 24px 56px rgba(11,23,39,0.11);
}

/* image + overlays */
.food-img-wrap {
    position: relative;
    border-radius:8px;
    overflow: hidden;
    margin-bottom:10px;
    background: #f8fafc;
}

/* FIX: ensure full image visibility (no cropping) while keeping container height */
.food-img-wrap img {
    /* preserve container height, but make the image fit fully without distortion */
    width: auto;
    max-width: 100%;
    height: 140px;               /* keep existing container visual height */
    object-fit: contain;         /* show whole image, no cropping */
    object-position: center;     /* center the image inside the box */
    display: block;
    margin: 0 auto;
}

/* diet tag (top-left) and calorie badge (top-right) */
.diet-tag {
    position: absolute;
    top:8px;
    left:8px;
    background: rgba(0,0,0,0.6);
    color: #fff;
    padding:6px 8px;
    font-size:12px;
    border-radius:8px;
    font-weight:600;
    text-transform:capitalize;
}

.cal-badge {
    position: absolute;
    top:8px;
    right:8px;
    background: rgba(255,255,255,0.95);
    color: #111827;
    padding:6px 8px;
    font-size:12px;
    border-radius:8px;
    font-weight:700;
    box-shadow: 0 4px 12px rgba(11,23,39,0.06);
}

/* Favorite heart (top-right overlay) */
.fav-btn {
    position: absolute;
    top: 8px;
    right: 8px;
    width: 38px;
    height: 38px;
    border-radius: 10px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: rgba(255,255,255,0.85);
    border: none;
    cursor: pointer;
    transition: transform 0.12s ease, background 0.12s ease, box-shadow 0.12s ease;
    color: #6b7280;
    padding: 6px;
    box-shadow: 0 6px 14px rgba(11,23,39,0.04);
}

.fav-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(11,23,39,0.06); }

/* active (favorited) state */
.fav-btn.active {
    background: linear-gradient(135deg,#ef4444,#f97316);
    color: #fff;
    box-shadow: 0 14px 32px rgba(249,115,22,0.12);
}

/* processing state */
.fav-btn.processing { opacity: 0.8; cursor: progress; transform: none; }

/* svg icon coloring */
.fav-btn .fav-icon { display:block; width:18px; height:18px; }

/* content */
.food-card .food-title {
    display:block;
    margin-bottom:6px;
    font-size:15px;
    color:#0f172a;
}

.food-card .meta {
    color:#6b7280;
    font-size:13px;
    margin-top:6px;
    flex:1;
}

/* slot selector */
.slot-selector {
    display:flex;
    gap:6px;
    align-items:center;
}
.slot-btn {
    background:#fff;
    border:1px solid #e6eef0;
    padding:6px 10px;
    border-radius:8px;
    cursor:pointer;
    font-weight:600;
    color:#111827;
    transition: transform .12s, box-shadow .12s, background .12s;
}
.slot-btn.active {
    background: linear-gradient(90deg,#dcfce7,#bbf7d0);
    border-color: #bbf7d0;
    box-shadow: 0 8px 18px rgba(99,179,46,0.08);
    transform: translateY(-2px);
}

/* buttons */
.btn-row {
    display:flex;
    gap:8px;
    margin-top:10px;
}

.btn-primary-ghost {
    background:transparent;
    border:1px solid #e5e7eb;
    padding:6px 10px;
    border-radius:6px;
    cursor:pointer;
    color:#374151;
    text-decoration:none;
    display:inline-flex;
    align-items:center;
    justify-content:center;
}

.btn-cta {
    background:#63B34E;
    color:#fff;
    padding:6px 10px;
    border-radius:6px;
    border:none;
    cursor:pointer;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:6px;
    min-width:82px;
    position:relative;
}

/* spinner and success text inside the button */
.btn-cta .btn-spinner { margin-left:6px; display:inline-flex; align-items:center; }
.btn-cta .btn-success { margin-left:8px; color:#fff; font-weight:700; background:transparent; }

/* keep success state visually distinct */
.btn-cta:disabled { opacity:0.9; cursor:progress; }

/* snackbar / toast */
.snackbar {
    position: fixed;
    top: 20px;
    right: 20px;
    background: #111827;
    color: #fff;
    padding: 10px 14px;
    border-radius: 10px;
    box-shadow: 0 12px 30px rgba(11,23,39,0.18);
    transform: translateY(-6px);
    opacity: 0;
    transition: transform .22s ease, opacity .22s ease;
    z-index: 1200;
    pointer-events: none;
}
.snackbar.show { transform: translateY(0); opacity: 1; pointer-events: auto; }

/* Daily calorie summary panel */
.daily-panel {
    width: 320px;
    background: #fff;
    border-radius: 12px;
    padding: 12px;
    box-shadow: 0 18px 40px rgba(11,23,39,0.08);
    margin-left: 12px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    flex-shrink: 0;
}

.daily-panel .panel-header {
    display:flex;
    align-items:center;
    gap:8px;
    justify-content:space-between;
}
.daily-panel .panel-body {
    max-height: 420px;
    overflow-y: auto;
    padding-right: 6px;
}
.daily-panel .panel-footer {
    border-top: 1px solid #eef2f7;
    padding-top: 8px;
}
.daily-panel .panel-empty {
    padding: 18px 6px;
}
.daily-panel .daily-list {
    display:flex;
    flex-direction:column;
    gap:8px;
}
.daily-panel .slot-block { margin-bottom: 6px; }
.daily-panel .slot-title {
    font-weight:700;
    font-size:13px;
    color:#111827;
    margin-bottom:6px;
}
.daily-panel .meal-row {
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:8px;
    border-radius:8px;
    background:#fff;
    box-shadow: 0 6px 12px rgba(11,23,39,0.03);
}
.daily-panel .meal-name { font-weight:600; font-size:13px; }
.daily-panel .meal-meta { font-size:12px; color:#6b7280; }

.daily-panel .totals { display:flex; flex-direction:column; gap:6px; font-weight:700; color:#0f172a; }
.daily-panel .totals .totalCalories { font-size:16px; }
.daily-panel .totals .calorieGoal, .daily-panel .totals .remainingCalories { font-weight:600; color:#374151; }

/* responsive: hide panel on small screens if not already using bootstrap classes */
@media (max-width: 992px) {
    .daily-panel { display: none !important; }
}

/* Responsive */
@media (max-width:768px) {
    .hero { padding:18px 12px; }
    .food-img-wrap img { height:120px; }
    .fav-btn { width:34px; height:34px; top:6px; right:6px; }
    .snackbar { left: 12px; right: 12px; top: 12px; }
}

/* Specially For You section - appended styles */

/* Header: centered small uppercase with side rules */
.special-header {
    display: flex;
    align-items: center;
    justify-content: center;
    color: #9CA3AF; /* light grey */
    text-transform: uppercase;
    font-weight: 600;
    font-size: 13px;
    gap: 16px;
    margin: 0 auto;
    width: 100%;
}
.special-header span {
    padding: 0 12px;
    background: transparent;
}
/* thin lines left/right */
.special-header::before,
.special-header::after {
    content: "";
    display: block;
    height: 1px;
    background: #E6E6E6;
    flex: 1 1 120px;
    max-width: 180px;
}

/* Grid layout for three equal cards */
.special-grid {
    display: flex;
    gap: 18px;
    align-items: stretch;
    justify-content: space-between;
    margin-top: 12px;
}

/* Card container */
.category-card {
    background: #FBFCFD; /* soft light-grey container */
    border-radius: 12px;
    padding: 14px;
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 1 1 0;
    min-height: 320px; /* ensures equal height */
    box-shadow: 0 6px 14px rgba(11,23,39,0.03);
}

/* Image wrapper and image */
.category-imgwrap {
    background: transparent;
    width: 100%;
    display:flex;
    align-items:center;
    justify-content:center;
    padding: 8px;
}

/* FIX: show full category images without cropping */
.category-img {
    width: auto;
    max-width: 100%;
    height: 180px;            /* preserve visual card design */
    object-fit: contain;      /* show whole image */
    object-position: center;
    display: block;
    margin: 0 auto;
    transform: scale(1.12);
}
.category-card:hover .category-img {
    transform: scale(1.16);
    transition: transform 0.3s ease;
}
    /* Body area keeps button at bottom */
    .category-body {
    margin-top: 12px;
    width: 100%;
    display:flex;
    align-items:center;
    justify-content:center;
    flex: 1 0 auto;
}

/* Green rounded button spanning most of card width */
.category-btn {
    background: #63B34E;
    color: #fff;
    font-weight: 800;
    text-transform: uppercase;
    border: none;
    border-radius: 999px;
    padding: 10px 12px;
    width: 90%;
    max-width: 260px;
    cursor: pointer;
    box-shadow: 0 6px 14px rgba(99,179,46,0.08);
}

/* Small screens: stack cards vertically */
@media (max-width: 768px) {
    .special-grid {
        flex-direction: column;
    }
    .category-card { min-height: auto; }
    .special-header::before,
    .special-header::after { max-width: 80px; }
}

/* Responsive adjustments (keep existing heights but ensure contain still works) */
@media (max-width:768px) {
    .hero { padding:18px 12px; }
    .food-img-wrap img { height:120px; }
    .fav-btn { width:34px; height:34px; top:6px; right:6px; }
    .snackbar { left: 12px; right: 12px; top: 12px; }
}

/* Meal grid: responsive 4-column layout + hover effects
   - Images use object-fit: contain to show whole image
   - Cards are anchor elements for SEO and accessible navigation
*/

/* Section spacing */
.meals-grid-section { margin-top: 28px; }

/* Header styles (keeps site typography) */
.meals-grid-header h3 { font-size: 1.25rem; font-weight:700; margin-bottom: 6px; }
.meals-grid-header p { margin: 0; color: #6b7280; }

/* Grid: 4 columns desktop, auto-wrap on smaller screens */
.meals-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* 4 columns on desktop */
    gap: 18px;
    align-items: start;
}

/* Card (anchor wraps entire card) */
.meal-card {
    display: block;                    /* make link fill card area */
    background: #fff;                  /* clean white background */
    border-radius: 12px;
    overflow: hidden;
    text-decoration: none;
    color: inherit;
    box-shadow: 0 8px 18px rgba(11,23,39,0.04);
    transition: transform .22s ease, box-shadow .22s ease;
    cursor: pointer;
    padding: 12px;
    /* Ensure consistent height for rows if desired (optional) */
    min-height: 260px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* Hover: lift and deeper shadow */
.meal-card:hover,
.meal-card:focus {
    transform: translateY(-8px);
    box-shadow: 0 24px 56px rgba(11,23,39,0.12);
    outline: none;
}

/* Image wrapper keeps identical sizing across cards */
.meal-img-wrap {
    width: 100%;
    height: 160px;                 /* fixed visual image height (keeps grid aligned) */
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f8fafc;           /* subtle background when image has letterbox */
    border-radius: 10px;
    overflow: hidden;
}

/* Image: center + contain to avoid cropping (no distortion) */
.meal-img {
    width: auto;
    max-width: 100%;
    height: 100%;
    object-fit: contain;           /* important: show whole image */
    object-position: center;
    display: block;
}

/* Meal label under the image */
.meal-label {
    margin-top: 12px;
    font-weight: 700;
    text-align: center;
    color: #0f172a;
    font-size: 14px;
    line-height: 1.2;
}

/* Responsive breakpoints */
/* 3 columns on wide tablets / small desktops */
@media (max-width: 1100px) {
    .meals-grid { grid-template-columns: repeat(3, 1fr); }
}

/* 2 columns on tablets / large phones */
@media (max-width: 768px) {
    .meals-grid { grid-template-columns: repeat(2, 1fr); }
    .meal-img-wrap { height: 140px; }
}

/* 1 column on small phones */
@media (max-width: 480px) {
    .meals-grid { grid-template-columns: 1fr; }
    .meal-card { min-height: auto; padding: 10px; }
    .meal-img-wrap { height: 160px; }
}

/* Accessibility: focus-visible outline */
.meal-card:focus-visible {
    box-shadow: 0 24px 56px rgba(11,23,39,0.12), 0 0 0 3px rgba(99,179,46,0.12);
}

/* Scoped visual improvements for Food Categories section */
.food-categories .special-grid {
    gap: 14px;
}

.food-categories .category-card {
    padding: 10px;
    min-height: 260px;
    transition: transform .22s ease, box-shadow .22s ease;
    box-shadow: 0 10px 22px rgba(11,23,39,0.04);
}

.food-categories .category-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 48px rgba(11,23,39,0.10);
}

.food-categories .category-imgwrap {
    padding: 6px;
}

.food-categories .category-img {
    height: 160px;
    object-fit: contain;
    object-position: center;
    transition: transform .28s ease;
    display: block;
    margin: 0 auto;
}

.food-categories .category-card:hover .category-img {
    transform: scale(1.05);
}

.food-categories .category-body {
    margin-top: 10px;
}

.food-categories .category-body .category-btn {
    width: 85%;
    max-width: 220px;
    background: #63B34E;
    color: #fff;
    font-weight: 800;
    text-transform: uppercase;
    border: none;
    border-radius: 999px;
    padding: 8px 12px;
    box-shadow: 0 6px 12px rgba(99,179,46,0.08);
    display: inline-block;
    text-align: center;
    text-decoration: none;
}

.food-categories .category-body .category-btn:hover,
.food-categories .category-body .category-btn:focus {
    background: #4f9b3d;
    box-shadow: 0 10px 20px rgba(79,155,61,0.12);
}

/* Carousel: NutriBite theme additions (append to home.css) */
:root {
    --nb-green: #63B34E;
    --nb-radius: 18px;
    --nb-shadow: 0 8px 24px rgba(6,95,70,0.08);
}

/* full-width container that visually spans the page but stays inside site flow */
.hero-carousel-wrap {
    width: 100%;
    padding: 28px 0;
    background: linear-gradient(180deg, rgba(99,179,78,0.06) 0%, rgba(255,255,255,0) 45%);
    display: block;
    box-sizing: border-box;
}

/* core carousel */
.hero-carousel {
    max-width: 1200px;
    margin: 0 auto;
    position: relative;
    border-radius: var(--nb-radius);
    overflow: hidden;
    background: #ffffff;
    box-shadow: var(--nb-shadow);
}

/* slides row */
.carousel-slides {
    position: relative;
    height: 320px;
}

/* each slide stacks on top; fade via opacity */
.carousel-slide {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 18px;
    opacity: 0;
    transition: opacity 700ms ease;
    will-change: opacity, transform;
    backface-visibility: hidden;
    transform: translateZ(0); /* hint for GPU */
    transition: opacity 700ms cubic-bezier(.2,.9,.2,1), visibility 0s linear 700ms;
    visibility: hidden;
    background: linear-gradient(180deg, rgba(255,255,255,0.0) 0%, rgba(250,250,250,0.6) 100%);
}

/* active slide visible */
.carousel-slide.active {
    opacity: 1;
    z-index: 2;
    visibility: visible;
    transition-delay: 0s;
}

/* image fits, preserves aspect, responsive */
.carousel-slide img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    border-radius: 12px;
}

/* nav arrows */
.carousel-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    border: none;
    background: rgba(255,255,255,0.9);
    color: var(--nb-green);
    width: 44px;
    height: 44px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 6px 18px rgba(6,95,70,0.06);
    transition: transform .18s ease, box-shadow .18s ease, background .18s;
    z-index: 5;
}
.carousel-nav:hover { transform: translateY(-50%) scale(1.05); box-shadow: 0 10px 22px rgba(6,95,70,0.08); }
.carousel-prev { left: 12px; }
.carousel-next { right: 12px; }

/* dots */
.carousel-dots {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    bottom: 10px;
    display: flex;
    gap: 8px;
    z-index: 6;
}
.carousel-dots button {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    border: none;
    background: rgba(6,95,70,0.18);
    cursor: pointer;
    transition: transform .12s ease, background .16s;
}
.carousel-dots button.active {
    background: var(--nb-green);
    transform: scale(1.15);
}

/* responsiveness */
@media (max-width: 991px) {
    .carousel-slides { height: 260px; }
}
@media (max-width: 575px) {
    .carousel-slides { height: 180px; }
    .carousel-nav { width:36px; height:36px; }
}

/* skeleton for food grid while loading */
.food-grid .skeleton {
  border-radius: 12px;
  background: linear-gradient(90deg,#f3f4f6,#eceff1,#f3f4f6);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.2s linear infinite;
  height: 140px;
}
@keyframes skeleton-shimmer { 0%{background-position:200% 0}100%{background-position:-200% 0} }
/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .food-grid .skeleton, .carousel-slide { animation: none; transition: none; }
}
:root {
    --nb-green: #16a34a;
    --nb-dark-green: #065f46;
    --nb-orange: #f97316;
    --nb-earth: #f7f3ef;
    --nb-muted: #6b7280;
    --nb-card: #ffffff;
    --nb-glow: 0 8px 24px rgba(22,163,74,0.12);
    font-family: 'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* Global tweaks for this page only */
header.nb-nav {
    background: linear-gradient(90deg, rgba(255,255,255,0.98), rgba(255,255,255,0.95));
    position: sticky;
    top: 0;
    z-index: 1050;
    border-bottom: 1px solid rgba(15,23,42,0.04);
}

.nb-brand {
    font-weight: 700;
    color: var(--nb-dark-green);
    letter-spacing: 0.2px;
}

.nb-hero {
    background-image: linear-gradient(180deg, rgba(6,95,70,0.06), rgba(255,255,255,0.0));
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    color: #07332f;
    padding: 6rem 0;
    position: relative;
}

/* --- Quick layout fixes to stop duplicate hero/carousel overlapping --- */

/* ensure modern hero sits above preserved content and doesn't get covered */
.nb-hero {
  position: relative;
  z-index: 50;
  overflow: hidden;
}

/* hide the preserved/original hero (you can invert this if you want the original instead) */
.hero-enhanced {
  display: none !important;
}

/* constrain carousel so it cannot grow outside layout */
.hero-carousel {
  max-width: 1140px;
  margin: 28px auto;
  border-radius: 12px;
  overflow: hidden;
  box-sizing: border-box;
  background: #fff;
}

/* keep slides a predictable height and images contained */
.carousel-slides { height: 320px; max-height: 420px; }
.carousel-slide img {
  width: auto;
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  display: block;
  margin: 0 auto;
}

/* optional: if the daily panel or other fixed-width elements cause horizontal overflow */
body, html { overflow-x: hidden; }

    .nb-hero .overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(180deg, rgba(6,95,70,0.06), rgba(255,255,255,0.0));
        pointer-events: none;
    }

    .nb-hero .hero-inner {
        max-width: 1140px;
        margin: 0 auto;
        padding: 0 1rem;
        display: flex;
        gap: 2rem;
        align-items: center;
    }

    .nb-hero .hero-copy {
        flex: 1;
    }

    .nb-hero h1 {
        font-size: clamp(1.6rem, 3.8vw, 2.6rem);
        line-height: 1.05;
        margin-bottom: 1rem;
        font-weight: 700;
        color: var(--nb-dark-green);
    }

    .nb-hero p.lead {
        margin-bottom: 1.25rem;
        color: var(--nb-muted);
        max-width: 60ch;
    }

    .nb-hero .cta .btn {
        border-radius: 10px;
        padding: 0.8rem 1.4rem;
        font-weight: 600;
        transition: transform .12s ease, box-shadow .12s ease;
    }

        .nb-hero .cta .btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--nb-glow);
        }

    .nb-hero .hero-media {
        width: 420px;
        max-width: 40%;
        display: flex;
        justify-content: center;
    }

        .nb-hero .hero-media img {
            border-radius: 14px;
            box-shadow: 0 10px 30px rgba(2,6,23,0.12);
            transition: transform .35s ease;
        }

            .nb-hero .hero-media img:hover {
                transform: translateY(-6px) scale(1.02);
            }

    /* Responsive hero layout improvements - append or replace the nb-hero rules */

    /* Use CSS grid for predictable two-column hero on wide screens */
    .nb-hero {
      position: relative;
      z-index: 50;
      overflow: hidden;
      padding: 6rem 0;
      background-size: cover;
      background-position: center;
    }

    /* grid with a fluid left column and a constrained media column */
    .nb-hero .hero-inner {
      max-width: 1140px;
      margin: 0 auto;
      padding: 0 1rem;
      display: grid;
      grid-template-columns: 1fr 480px; /* left copy / right media */
      gap: 2rem;
      align-items: center;
    }

    /* constrain media column and make image responsive */
    .nb-hero .hero-media {
      width: 100%;
      max-width: 480px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .nb-hero .hero-media img {
      width: 100%;
      height: auto;
      max-height: calc(100vh - 220px); /* avoid extremely tall images */
      object-fit: cover;
      object-position: center right; /* keep focal area visible on wide screens */
      border-radius: 14px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.12);
      display: block;
    }

    /* copy column tweaks for better vertical rhythm */
    .nb-hero .hero-copy { padding-right: 0.25rem; }

    /* smaller breakpoints: step down gracefully */
    @media (max-width: 1200px) {
      .nb-hero .hero-inner { grid-template-columns: 1fr 420px; }
      .nb-hero .hero-media { max-width: 420px; }
    }

    @media (max-width: 991px) {
      /* stack content for tablet / mobile */
      .nb-hero {
        padding: 3.5rem 0;
        background-size: cover;
        background-position: center;
      }
      .nb-hero .hero-inner {
        grid-template-columns: 1fr;
        text-align: center;
      }
      /* show media above copy on small screens for better visual impact */
      .nb-hero .hero-media { order: -1; width: 80%; max-width: 360px; margin: 0 auto 1rem; }
      .nb-hero .hero-copy { order: 0; }
      .nb-hero h1 { font-size: clamp(1.5rem, 6vw, 2rem); }
      .nb-hero p.lead { margin-inline: auto; max-width: 54ch; }
    }

    /* very small phones: reduce media size to avoid overflow */
    @media (max-width: 480px) {
      .nb-hero .hero-media { width: 92%; max-width: 300px; }
      .nb-hero h1 { font-size: 1.4rem; }
      .nb-hero p.lead { font-size: 0.95rem; }
    }

    /* prevent horizontal scroll caused by large images */
    html, body { overflow-x: hidden; }

/* Decorative hero enhancements (used when the background photo is removed) */
.nb-hero {
  /* keep existing gradient but slightly stronger for contrast */
  background-image: linear-gradient(180deg, rgba(6,95,70,0.08), rgba(255,255,255,0.0));
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
  position: relative;
  overflow: visible;
}

/* Soft luminous shape on the right replaces removed figure (non-interactive) */
.nb-hero::before {
  content: "";
  position: absolute;
  right: -6%;
  top: 6%;
  width: 50%;
  height: 88%;
  pointer-events: none;
  background: radial-gradient(closest-side,
    rgba(99,179,78,0.12),
    rgba(99,179,78,0.06) 30%,
    rgba(255,255,255,0) 60%);
  filter: blur(36px);
  transform: translateZ(0);
  z-index: 0;
}

/* Subtle white fade on the right to keep copy readable and centered */
.nb-hero::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, rgba(255,255,255,0.0) 40%, rgba(255,255,255,0.95) 100%);
  pointer-events: none;
  z-index: 1;
}

/* Ensure main content sits above decorations */
.nb-hero .hero-inner { position: relative; z-index: 2; }

/* Make the meal card visually pop without changing its markup */
.nb-hero .hero-media { z-index: 3; }
.nb-hero .hero-media img {
  box-shadow: 0 20px 60px rgba(6,95,70,0.12), 0 6px 18px rgba(2,6,23,0.06);
  border-radius: 18px;
  transition: transform .36s ease, box-shadow .36s ease;
}
.nb-hero .hero-media img:hover,
.nb-hero .hero-media img:focus {
  transform: translateY(-8px);
  box-shadow: 0 30px 80px rgba(6,95,70,0.14);
}

/* Disable large decorative shapes on narrow screens to keep layout clean */
@media (max-width: 991px) {
  .nb-hero::before { display: none; }
  .nb-hero::after { background: linear-gradient(180deg, rgba(255,255,255,0), rgba(255,255,255,0)); }
}

/* Improve "Why Choose NutriBite" UI (scoped to .nb-why) */
.nb-why {
  padding: 48px 0;
  background: linear-gradient(180deg, rgba(99,179,78,0.03), rgba(255,255,255,0.0));
  -webkit-font-smoothing:antialiased;
}

/* header tweak */
.nb-why .special-header {
  margin-bottom: 28px;
  color: var(--nb-muted);
  font-size: 0.95rem;
  letter-spacing: 0.6px;
}

/* responsive card grid */
.nb-why .grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 18px;
  align-items: start;
}

/* card — scoped visual treatment (do not affect global .card) */
.nb-why .card {
  display: flex;
  gap: 16px;
  align-items: flex-start;
  background: #ffffff;
  border-radius: 12px;
  padding: 18px;
  border: 1px solid rgba(15,23,42,0.04);
  box-shadow: 0 8px 22px rgba(11,23,39,0.04);
  transition: transform .18s ease, box-shadow .18s ease, border-color .12s;
  overflow: hidden;
}

/* hover / focus */
.nb-why .card:hover,
.nb-why .card:focus-within {
  transform: translateY(-6px);
  box-shadow: 0 20px 50px rgba(11,23,39,0.08);
  border-color: rgba(99,179,46,0.12);
  outline: none;
}

/* icon badge */
.nb-why .icon {
  width: 56px;
  height: 56px;
  min-width: 56px;
  border-radius: 10px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 22px;
  box-shadow: 0 8px 20px rgba(6,95,70,0.06);
}

/* color variants (map to existing semantic classes) */
.nb-why .icon.green {
  background: linear-gradient(135deg, rgba(99,179,78,0.12), rgba(16,185,129,0.08));
  color: var(--nb-dark-green);
}
.nb-why .icon.orange {
  background: linear-gradient(135deg, rgba(249,115,22,0.10), rgba(252,165,0,0.06));
  color: var(--nb-orange);
}
.nb-why .icon.pink {
  background: linear-gradient(135deg, rgba(236,72,153,0.08), rgba(139,92,246,0.04));
  color: #c026d3;
}

/* content text */
.nb-why .card h4 {
  margin: 0 0 6px;
  font-size: 1.125rem;
  font-weight: 700;
  color: #0f172a;
}
.nb-why .card p {
  margin: 0;
  color: #6b7280;
  line-height: 1.45;
  font-size: 0.96rem;
}

/* keep icon visually separated on small screens (stack) */
@media (max-width: 991px) {
  .nb-why .grid { grid-template-columns: repeat(2, 1fr); }
  .nb-why .card { padding: 14px; gap: 12px; }
  .nb-why .icon { width:48px; height:48px; min-width:48px; font-size:20px; border-radius:10px; }
}

@media (max-width: 576px) {
  .nb-why { padding: 32px 0; }
  .nb-why .grid { grid-template-columns: 1fr; gap: 12px; }
  .nb-why .card { flex-direction: row; align-items: center; padding: 12px; }
  .nb-why .icon { width:44px; height:44px; min-width:44px; font-size:18px; }
  .nb-why .card h4 { font-size: 1.02rem; }
}

/* subtle separator above metrics (keeps visual rhythm) */
.nb-why + .trust-metrics-strip { margin-top: 18px; }

/* Enhanced "How NutriBite Works" UI (scoped) */
.how-it-works {
  padding: 56px 0;
  background: linear-gradient(180deg, rgba(99,179,78,0.02), rgba(255,255,255,0));
}

.how-it-works .container {
  max-width: 1100px;
}

/* Heading */
.how-it-works h3 {
  font-weight: 700;
  font-size: 1.6rem;
  margin-bottom: 6px;
  color: #0f172a;
}
.how-it-works p.text-muted {
  margin-bottom: 28px;
  color: var(--nb-muted);
}

/* center the row items */
.how-it-works .row.g-3 {
  justify-content: center;
  align-items: stretch;
}

/* step card */
.how-it-works .how-step {
  background: #fff;
  border-radius: 14px;
  padding: 22px 14px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  min-height: 150px;
  box-shadow: 0 12px 36px rgba(6,95,70,0.06);
  border: 1px solid rgba(6,95,70,0.04);
  transition: transform .22s ease, box-shadow .22s ease, border-color .12s;
  text-align: center;
  justify-content: center;
}

/* hover / focus states */
.how-it-works .how-step:hover,
.how-it-works .how-step:focus-within {
  transform: translateY(-8px);
  box-shadow: 0 28px 60px rgba(6,95,70,0.10);
  border-color: rgba(99,179,46,0.12);
  outline: none;
}

/* circular icon badge */
.how-it-works .step-icon {
  width: 72px;
  height: 72px;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  box-shadow: 0 10px 30px rgba(6,95,70,0.06);
  color: white;
  background: linear-gradient(135deg, rgba(99,179,78,1), rgba(16,185,129,0.85));
  flex-shrink: 0;
}

/* small color variants if used */
.how-it-works .step-icon.orange {
  background: linear-gradient(135deg, rgba(249,115,22,1), rgba(252,165,0,0.88));
}
.how-it-works .step-icon.purple {
  background: linear-gradient(135deg, rgba(139,92,246,1), rgba(236,72,153,0.88));
}

/* step title + subtitle */
.how-it-works .step-title {
  font-weight: 700;
  font-size: 1rem;
  color: #0f172a;
  margin-top: 6px;
}
.how-it-works .step-desc {
  margin: 0;
  font-size: 0.92rem;
  color: #6b7280;
  line-height: 1.4;
}

/* accessible focus outline */
.how-it-works .how-step:focus-visible {
  box-shadow: 0 28px 60px rgba(6,95,70,0.12), 0 0 0 4px rgba(99,179,46,0.08);
  transform: translateY(-8px);
}

/* responsive adjustments */
@media (max-width: 991px) {
  .how-it-works .step-icon { width: 60px; height: 60px; font-size: 24px; }
  .how-it-works .how-step { min-height: 140px; padding: 18px; }
}
@media (max-width: 576px) {
  .how-it-works { padding: 36px 0; }
  .how-it-works .step-icon { width: 52px; height: 52px; font-size: 20px; }
  .how-it-works .how-step { padding: 14px; min-height: 120px; }
}
.hero-search {
    max-width: 500px;
}

    .hero-search .form-control {
        border-radius: 12px 0 0 12px;
        padding: 12px;
    }

    .hero-search .btn {
        border-radius: 0 12px 12px 0;
        padding: 12px 20px;
    }
