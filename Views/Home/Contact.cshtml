@using NUTRIBITE.Helpers
@{
    ViewData["Title"] = "Contact - NutriBite";
    Layout = "~/Views/Shared/_PublicLayout.cshtml";
}

<div class="container mt-4 mb-5">
    <div class="row">
        <div class="col-lg-6">
            <h3>Contact Us</h3>
            <p class="text-muted">Use the form to send us a message.</p>

            <form id="contactForm">
                <div class="mb-2">
                    <label class="form-label small">Name</label>
                    <input class="form-control form-control-sm" type="text" name="name" />
                </div>
                <div class="mb-2">
                    <label class="form-label small">Email</label>
                    <input class="form-control form-control-sm" type="email" name="email" />
                </div>
                <div class="mb-2">
                    <label class="form-label small">Message</label>
                    <textarea class="form-control form-control-sm" rows="4" name="message"></textarea>
                </div>

                <div class="d-grid">
                    <button class="btn btn-success">Send</button>
                </div>
            </form>
        </div>

        <div class="col-lg-6">
            <h5>Customer Support</h5>
            <p class="small text-muted">Email: support@nutribite.example</p>
            <p class="small text-muted">Phone: +91 90000 00000</p>
        </div>
    </div>

    <!-- Location section appended at bottom (full-width interactive map) -->
    <section id="contact-location" class="mt-5">
        <h4>Our Location</h4>
        <p class="text-muted mb-3">Visit or get directions to our kitchen studio.</p>

        @{
            var vd = new Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary(ViewData);
            vd["mode"] = "full";
        }
        @await Html.PartialAsync("_LocationMap", model: null, viewData: vd)

        <div class="mt-3">
            <p class="mb-0"><strong>@LocationConfig.AddressLine</strong></p>
            <p class="mb-0">@LocationConfig.City, @LocationConfig.State</p>
            <p class="mb-0">@LocationConfig.Country</p>
            <p class="small text-muted">Landmark: Near Central Park (optional)</p>
        </div>
    </section>
</div>

@section Scripts {
    <script>
        (function () {
            // If location page links here with #contact-location, smooth scroll
            if (window.location.hash === '#contact-location') {
                setTimeout(function () {
                    var el = document.getElementById('contact-location');
                    if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 120);
            }
        })();
    </script>
}