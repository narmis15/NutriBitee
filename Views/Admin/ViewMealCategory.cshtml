@using NUTRIBITE.Models
@model IEnumerable<FoodCategory>

<h3>View Meal Categories</h3>

<div class="table-wrapper">
    <table class="admin-table">
        <thead>
            <tr>
                <th>
                    <a asp-action="ViewMealCategory"
                       asp-route-sortOrder="@ViewBag.IdSort"
                       class="sortable">
                        Id ⇅
                    </a>
                </th>

                <th>
                    <a asp-action="ViewMealCategory"
                       asp-route-sortOrder="@ViewBag.MealSort"
                       class="sortable">
                        Meal Category ⇅
                    </a>
                </th>

                <th>
                    <span class="sortable">Meal Image</span>
                </th>

                <th>
                    <span class="sortable">Action</span>
                </th>
            </tr>
        </thead>

        <tbody>
            @if (Model != null && Model.Any())
            {
                foreach (var item in Model)
                {
                    <tr>
                        <!-- ID -->
                        <td>@item.cid</td>

                        <!-- Meal Category -->
                        <td>@item.MealCategory</td>

                        <!-- Image -->
                        <td class="image-cell">
                            <div class="image-box">
                                @if (!string.IsNullOrEmpty(item.MealPic))
                                {
                                    <img src="~/images/Meals/@item.MealPic"
                                         alt="@item.MealCategory"
                                         onerror="this.onerror=null;this.src='/images/Meals/default.jpg';"/>
                                }
                                else
                                {
                                    <img src="~/images/Meals/default.jpg"
                                         alt="No Image" />
                                }
                            </div>
                        </td>
                       


                        <!-- Actions -->
                        <td>
                            <a asp-action="EditMealCategory"
                               asp-route-id="@item.cid"
                               class="btn btn-edit">
                                Edit
                            </a>

                            <a asp-action="DeleteMealCategory"
                               asp-route-id="@item.cid"
                               class="btn btn-delete"
                               onclick="return confirm('Are you sure you want to delete this meal category?');">
                                Delete
                            </a>
                        </td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td colspan="4" class="no-records">
                        No records found
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
